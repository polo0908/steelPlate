var globalImgServer="//is.alicdn.com";define("js/6v/biz/common/screen-slider/_dev/src/screen-slider.js",["js/6v/lib/gallery/jquery/jquery.js?t=4b3d51b3_0","js/6v/lib/arale/easing/easing.js?t=413a9fcc_11dfce234","js/6v/lib/arale/class/class.js?t=46d5b2b6_b55a82c1","js/6v/lib/arale/events/events.js?t=a19fdeb1_20c2a225","js/6v/lib/arale/base/base.js?t=6d858051_37e694e07","js/6v/lib/arale/widget/widget.js?t=ddf1c67c_63a20fa09","js/6v/lib/gallery/handlebars/handlebars.js?t=c8d33d58_0"],function(require,e,t){function h(){function i(n){var i=n.originalEvent.touches;i&&i.length&&(e=i[0].pageX,t=i[0].pageY,r.bind("touchmove",s))}function s(n){var i=n.originalEvent.touches;if(i&&i.length){var o=e-i[0].pageX,u=t-i[0].pageY,a=5;o>=a&&r.trigger("swipeLeft"),o<=-a&&r.trigger("swipeRight"),u>=a&&r.trigger("swipeUp"),u<=-a&&r.trigger("swipeDown"),(Math.abs(o)>=a||Math.abs(u)>=a)&&r.unbind("touchmove",s)}}var e,t,r=n(this);r.bind("touchstart",i)}require("js/6v/lib/arale/easing/easing.js?t=413a9fcc_11dfce234");var n=require("js/6v/lib/gallery/jquery/jquery.js?t=4b3d51b3_0"),r=require("js/6v/lib/arale/widget/widget.js?t=ddf1c67c_63a20fa09"),i=require("js/6v/lib/gallery/handlebars/handlebars.js?t=c8d33d58_0"),s=/webkit/i.test(navigator.userAgent),o=s||document.compatMode=="BackCompat"?document.body:document.documentElement,u="ui-screen-slider",a="ui-active",f="event-before-slide",l="event-after-slide";i.registerHelper("contentHtml",function(e){return new i.SafeString(e)});var c=r.extend({attrs:{element:"body",slider:".screen-slider",duration:1300,easing:"backOut",needNav:!0,navColor:"#fff",activeColor:null,navContent:null,sliderIndex:0,header:null,footer:null},setup:function(){this.sliding=!1,this.lastSlideTime=0,this.winHeight=n(window).height(),this.sliders=n(this.get("slider"));if(!this.sliders||!this.sliders.length)return;this.count=this.sliders.length,this.total=this.sliders.length,this.origin=1;var e=this.get("header"),t=this.get("footer");e&&n(e)&&(this.hasHeader=!0,this.origin=0),t&&n(t)&&this.total++,this.preSliderIndex=this.origin,this.sliders.each(function(){n(this).addClass(u)}),n("body").css("display","block"),this.get("needNav")&&this._initNav(),typeof this.get("easing")=="function"&&(n.extend(n.easing,{customEasing:this.get("easing")}),this.set("easing","customEasing"));var r=this.get("sliderIndex");if(r==0&&!this.hasHeader||!(r>=this.origin&&r<=this.total))r=this.origin;this.slideTo(r),this._bindEvent()},_initNav:function(){var e=this,t={nav:[]},r=e.get("navContent");for(var s=1;s<=e.count;s++)t.nav.push({index:s,content:r?r[s-1]:null});var o='<div class="ui-screen-slider-nav" data-role="screen-slider-nav">\n\t<ul class="ui-wrap">\n\t\t{{#each nav}}\n\t\t<li class="ui-item" data-role="nav-item" data-index="{{index}}">\n\t\t\t<i class="ui-nav" data-role="nav"></i>\n\t\t\t{{#if content}}\n\t\t\t<div class="ui-content" data-role="content">{{contentHtml content}}</div>\n\t\t\t{{/if}}\n\t\t</li>\n\t\t{{/each}}\n\t</ul>\n</div>',u=i.compile(o),a=u(t);n("body").append(a);var f=e.$("[data-role=screen-slider-nav]");e.nav=f.find("[data-role=nav]"),e.navContent=f.find("[data-role=content]"),f.css("margin-top",f.height()/-2),e.delegateEvents("[data-role=nav-item]","click",function(t){e.slideTo(n(t.delegateTarget).data("index"))}).delegateEvents("[data-role=nav-item]","mouseover",function(e){n(e.delegateTarget).find("[data-role=content]").show()}).delegateEvents("[data-role=nav-item]","mouseout",function(e){n(e.delegateTarget).find("[data-role=content]").hide()})},_bindEvent:function(){this._evWheel(),this._evKey(),this._evSwipe(),this._evResize()},allow:!0,handler:null,_evWheel:function(){var e=this;e.handler=e._wheelFn.bind(this),n(o).on("mousewheel DOMMouseScroll MozMousePixelScroll",e.handler)},_wheelFn:function(e){var t=this,r=e.originalEvent.wheelDelta||-e.originalEvent.detail;if(r>0)r=1;else{if(!(r<0))return;r=-1}var i=t.get("sliderIndex");if(t.sliding||i==t.total&&r==-1||i==t.origin&&r==1)return;n(o).off("mousewheel DOMMouseScroll MozMousePixelScroll",t.handler),t.slideTo(i-r)},_evKey:function(){var e=this;e.delegateEvents(n(o),"keydown",function(t){var n=t.which,r=t.target.tagName.toLowerCase(),i=e.get("sliderIndex"),s=e.total,o=e.origin;if(e.sliding||r=="input"||r=="select"||r=="textarea"||n==40&&i==s||n==34&&i==s||n==38&&i==o||n==33&&i==o)return;switch(n){case 38:case 33:i--;break;case 40:case 34:i++;break;case 36:i=o;break;case 35:i=s;break;default:return}e.slideTo(i)})},_evSwipe:function(){var e=this;h.call(o),e.delegateEvents(n(o),"swipeDown",function(t){if(e.sliding)return;e.slideUp()}).delegateEvents(n(o),"swipeUp",function(t){if(e.sliding)return;e.slideDown()})},_evResize:function(){var e=this;e.delegateEvents(n(window),"resize",function(){var t=n(window).height();if(e.winHeight==t)return;n(o).scrollTop(e._calcScroll()),e.winHeight=t})},_calcScroll:function(){var e=this.get("sliderIndex"),t=this.count,r=0;return e>=1&&e<=t?r=n(this.sliders[e-1]).offset().top:e==t+1&&(r=n(this.get("footer")).offset().top),r},slideTo:function(e){this.preSliderIndex=this.get("sliderIndex"),this.set("sliderIndex",e)},_onRenderSliderIndex:function(e){var t=this;t.trigger(f,e,t.preSliderIndex);if(t.get("needNav")){var r=t._formatColor(t.get("navColor"),"#fff"),i=t.get("activeColor")?t._formatColor(t.get("activeColor"),r):r,s={backgroundColor:r},u={background:"none",borderColor:i};t.navContent.css("color",r).filter(function(){return n(this).parent().data("index")==e}).css("color",i),t.nav.removeClass(a).css(s).filter(function(){return n(this).parent().data("index")==e}).addClass(a).css(u)}t.sliding=!0,n(o).animate({scrollTop:t._calcScroll()},{duration:t.get("duration"),easing:t.get("easing"),complete:function(){t.sliding=!1,t.lastSlideTime=(new Date).getTime(),n(o).on("mousewheel DOMMouseScroll MozMousePixelScroll",t.handler)}}),t.trigger(l,e,t.preSliderIndex)},_formatColor:function(e,t){var n=this;if(typeof e=="string")return e;if(typeof e=="object"){var r=e.length,i=n.get("sliderIndex");return i==0?e[0]:r?e[Math.min(i,r)-1]:t}return t},slideUp:function(){var e=this.get("sliderIndex");e!=this.origin&&this.slideTo(e-1)},slideDown:function(){var e=this.get("sliderIndex");e!=this.total&&this.slideTo(e+1)},beforeSlide:function(e){this.on(f,e)},afterSlide:function(e){this.on(l,e)}});t.exports=c});define("js/6v/biz/common/screen-slider/screen-slider.js",["js/6v/lib/gallery/jquery/jquery.js?t=4b3d51b3_0","js/6v/lib/arale/easing/easing.js?t=413a9fcc_11dfce234","js/6v/lib/arale/class/class.js?t=46d5b2b6_b55a82c1","js/6v/lib/arale/events/events.js?t=a19fdeb1_20c2a225","js/6v/lib/arale/base/base.js?t=6d858051_37e694e07","js/6v/lib/arale/widget/widget.js?t=ddf1c67c_63a20fa09","js/6v/lib/gallery/handlebars/handlebars.js?t=c8d33d58_0"],function(require,e,t){t.exports=require("js/6v/biz/common/screen-slider/_dev/src/screen-slider.js?t=1d827cb0_90e4d7e9b")});